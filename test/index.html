<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Welcome to iModalJs</title>
</head>
<body>
<div id="test1" class="test1">
    <p class="test1 test2">111</p>
</div>
<script src="javascript/iModal.js"></script>
<script>
    var t = {1: 1, 2: 2, 3: [1, 2], 4: {5: 5}};
    var t2 = $m.$o2s(t);
    $m.$watchHash(function (_hash) {
        console.log(_hash);
    })
    //    $m.$ajax({
    //        url: 'http://fed.hz.netease.com/api/getblogs',
    //        success: function (_json) {
    //            console.log(_json)
    //        }
    //    })
    console.log($m.$sys);
    console.log($m.$escape('http://www.163.com/', true));
    console.log($m.$get('.test2'))

    var stack = new $m.$stack();
    stack.push(1);
    stack.push(2);
    console.log(stack.pop());

    var queue = new $m.$queue();
    queue.enqueue(1);
    queue.enqueue(2);
    console.log(queue.dequeue());

    var base = $m.$module.$extend({
        v: 1,
        $init: function () {
            console.log('Base class init');
            console.log(this.v);
            this.t1();
        },
        t1: function () {
            console.log('Base: do something');
        }
    })

    var parent = base.$extend({
        v: 2,
        $init: function () {
            this.$super();
            console.log('Parent class init');
            console.log(this.v);
        },
        t2: function () {
            console.log('Parent: do something');
        }
    })

    var child = parent.$extend({
        v: 3,
        $init: function (_option) {
            this.$super();
            console.log('Child class init');
            console.log(this.v);
            console.log(_option['option']);
            this.t2(_option);
        },
        t2: function (_option) {
            this.$super();
            console.log(_option['option']);
            console.log('Child: do something');
        },
        t3: function () {
            console.log('OK!');
        }
    })
    new child({'option': 'I am option'}).t3();
</script>
</body>
</html>